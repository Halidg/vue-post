(function(t){function e(e){for(var o,r,i=e[0],a=e[1],u=e[2],d=0,b=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&b.push(c[r][0]),c[r]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o]);l&&l(e);while(b.length)b.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,i=1;i<n.length;i++){var a=n[i];0!==c[a]&&(o=!1)}o&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},c={app:0},s=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/vue-post/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],a=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=a;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"36f9":function(t,e,n){"use strict";n("d6f7")},"410d":function(t,e,n){},"43ed":function(t,e,n){"use strict";n("410d")},4685:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function c(t,e,n,c,s,r){var i=Object(o["A"])("router-view");return Object(o["s"])(),Object(o["d"])(i)}var s={},r=n("6b0d"),i=n.n(r);const a=i()(s,[["render",c]]);var u=a,l=n("6c02"),d=(n("4de4"),n("d3b7"),n("d739")),b=n.n(d),f=function(t){return Object(o["v"])("data-v-2eb8ea16"),t=t(),Object(o["t"])(),t},p={class:"post"},O={class:"container"},j={class:"post__buttons"},m=Object(o["h"])("Загрузить"),h=Object(o["h"])("Создать"),g=f((function(){return Object(o["g"])("hr",null,null,-1)})),v={class:"post__h1"},_={class:"post__p"},y={class:"post__buttons"},k=Object(o["h"])("Полный текст"),P=Object(o["h"])("Редактировать"),C=["onClick"],w=f((function(){return Object(o["g"])("hr",null,null,-1)})),S={key:1,class:"pagination"},$=["onClick"],B=Object(o["h"])("Обновление Формы");function I(t,e,n,c,s,r){var i=Object(o["A"])("Button"),a=Object(o["A"])("Search"),u=Object(o["A"])("router-link"),l=Object(o["A"])("modal-form"),d=Object(o["A"])("modal"),f=Object(o["A"])("confirm-delete");return Object(o["s"])(),Object(o["f"])("div",p,[Object(o["g"])("div",O,[Object(o["g"])("div",j,[0===r.posts.length?(Object(o["s"])(),Object(o["d"])(i,{key:0,onClick:r.downloadPosts,class:"post__btn"},{default:Object(o["G"])((function(){return[m]})),_:1},8,["onClick"])):Object(o["e"])("",!0),0!==r.posts.length?(Object(o["s"])(),Object(o["d"])(i,{key:1,onClick:r.toCreate},{default:Object(o["G"])((function(){return[h]})),_:1},8,["onClick"])):Object(o["e"])("",!0)]),g,0!==r.posts.length?(Object(o["s"])(),Object(o["d"])(a,{key:0,onUpdatePost:r.updatePost,modelValue:s.filter,"onUpdate:modelValue":e[0]||(e[0]=function(t){return s.filter=t})},null,8,["onUpdatePost","modelValue"])):Object(o["e"])("",!0),(Object(o["s"])(!0),Object(o["f"])(o["a"],null,Object(o["y"])(r.postName,(function(t){return Object(o["s"])(),Object(o["f"])("div",{class:"post__content",key:t.id},[Object(o["g"])("h1",v,"Название статьи: "+Object(o["C"])(t.title),1),Object(o["g"])("p",_,"Текст статьи: "+Object(o["C"])(t.body),1),Object(o["g"])("div",y,[Object(o["i"])(u,{custom:"",to:{name:"Post",params:{id:t.id}}},{default:Object(o["G"])((function(t){var e=t.navigate;return[Object(o["i"])(i,{onClick:e,class:"post__btn"},{default:Object(o["G"])((function(){return[k]})),_:2},1032,["onClick"])]})),_:2},1032,["to"]),Object(o["i"])(i,{onClick:function(e){return r.editingModal(t.id)}},{default:Object(o["G"])((function(){return[P]})),_:2},1032,["onClick"]),Object(o["g"])("img",{onClick:function(e){return r.deleteModal(t.id)},class:"post__icon",src:b.a,alt:""},null,8,C)]),w])})),128)),0!==r.posts.length?(Object(o["s"])(),Object(o["f"])("div",S,[(Object(o["s"])(!0),Object(o["f"])(o["a"],null,Object(o["y"])(r.pages,(function(t,e){return Object(o["s"])(),Object(o["f"])("div",{class:Object(o["o"])(["pagination__pages",{"pagination__pages-selected":t===s.pageNumber}]),key:e,onClick:function(e){return r.changePage(t)}},Object(o["C"])(t),11,$)})),128))])):Object(o["e"])("",!0),s.modalEdit?(Object(o["s"])(),Object(o["d"])(d,{key:2,onClose:e[1]||(e[1]=function(t){return s.modalEdit=!1})},{default:Object(o["G"])((function(){return[Object(o["i"])(l,{id:s.id},{default:Object(o["G"])((function(){return[B]})),_:1},8,["id"])]})),_:1})):Object(o["e"])("",!0),s.modalDelete?(Object(o["s"])(),Object(o["d"])(d,{key:3,onClose:e[3]||(e[3]=function(t){return s.modalDelete=!1})},{default:Object(o["G"])((function(){return[Object(o["i"])(f,{id:s.id,onClick:e[2]||(e[2]=function(t){return s.modalDelete=!1})},null,8,["id"])]})),_:1})):Object(o["e"])("",!0)])])}n("fb6a"),n("caad"),n("2532");function x(t,e,n,c,s,r){return Object(o["s"])(),Object(o["f"])("button",{class:"btn",onClick:e[0]||(e[0]=function(){return r.click&&r.click.apply(r,arguments)})},[Object(o["z"])(t.$slots,"default",{},void 0,!0)])}var G={emits:["click"],methods:{click:function(){this.$emit("click")}}};n("82a2");const A=i()(G,[["render",x],["__scopeId","data-v-e578722a"]]);var N=A,M=n("bf37"),E=n.n(M),F=function(t){return Object(o["v"])("data-v-053c8be8"),t=t(),Object(o["t"])(),t},V={class:"container"},U=F((function(){return Object(o["g"])("div",{class:"modal-backdrop"},null,-1)})),D={class:"modal"};function J(t,e,n,c,s,r){return Object(o["s"])(),Object(o["f"])("div",V,[U,Object(o["g"])("img",{class:"modal__icon",src:E.a,alt:"",onClick:e[0]||(e[0]=function(e){return t.$emit("close")})}),Object(o["g"])("div",D,[Object(o["z"])(t.$slots,"default",{},void 0,!0)])])}n("a9e3");var H={class:"form__h1"},z={class:"form__button"},T=Object(o["h"])("Обновить");function L(t,e,n,c,s,r){var i=Object(o["A"])("Button");return Object(o["s"])(),Object(o["f"])("form",{onSubmit:e[2]||(e[2]=Object(o["I"])((function(){return t.upgradeForm&&t.upgradeForm.apply(t,arguments)}),["prevent"])),class:"form"},[Object(o["g"])("h1",H,[Object(o["z"])(t.$slots,"default",{},void 0,!0)]),Object(o["H"])(Object(o["g"])("input",{"onUpdate:modelValue":e[0]||(e[0]=function(t){return s.title=t}),class:"form__input",type:"text",placeholder:"Название статьи"},null,512),[[o["E"],s.title]]),Object(o["H"])(Object(o["g"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return s.body=t}),class:"form__input",type:"text",placeholder:"Текст статьи"},null,512),[[o["E"],s.body]]),Object(o["g"])("div",z,[Object(o["i"])(i,{onClick:r.update,disabled:!r.disable,class:"form__btn"},{default:Object(o["G"])((function(){return[T]})),_:1},8,["onClick","disabled"])])],32)}var R={props:{id:Number},data:function(){return{title:"",body:""}},computed:{posts:function(){return this.$store.getters.posts},disable:function(){return!!this.title&&!!this.body}},methods:{update:function(){var t={title:this.title,body:this.body,id:this.id};this.$store.commit("updatePosts",t),this.clear(),alert("Обновление статьи прошло успешно")},clear:function(){this.title="",this.body=""}},components:{Button:N}};n("43ed");const q=i()(R,[["render",L],["__scopeId","data-v-4ab559c2"]]);var K=q,Q={props:{id:Number},emits:["close"],components:{ModalForm:K}};n("a039");const W=i()(Q,[["render",J],["__scopeId","data-v-053c8be8"]]);var X=W;n("b0c0");function Y(t,e,n,c,s,r){return Object(o["H"])((Object(o["s"])(),Object(o["f"])("input",{class:"search__input",type:"text",placeholder:"Введите название статьи","onUpdate:modelValue":e[0]||(e[0]=function(t){return s.name=t})},null,512)),[[o["E"],s.name]])}var Z={props:["modelValue"],data:function(){return{name:""}},watch:{name:function(t){this.$emit("updatePost",t)}}};n("75e9");const tt=i()(Z,[["render",Y],["__scopeId","data-v-543e5386"]]);var et=tt,nt=function(t){return Object(o["v"])("data-v-7af5e407"),t=t(),Object(o["t"])(),t},ot={class:"delete"},ct=nt((function(){return Object(o["g"])("h1",{class:"delete__h1"},"Вы действительно хотите удалить пост?",-1)})),st=Object(o["h"])("Да"),rt=Object(o["h"])("Нет");function it(t,e,n,c,s,r){var i=Object(o["A"])("Button");return Object(o["s"])(),Object(o["f"])("div",ot,[ct,Object(o["i"])(i,{class:"delete__btn",onClick:r.deletePost},{default:Object(o["G"])((function(){return[st]})),_:1},8,["onClick"]),Object(o["i"])(i,{class:"delete__btn"},{default:Object(o["G"])((function(){return[rt]})),_:1})])}var at={props:{id:String},components:{Button:N},methods:{deletePost:function(){this.$store.commit("deletePosts",this.id)}}};n("36f9");const ut=i()(at,[["render",it],["__scopeId","data-v-7af5e407"]]);var lt=ut,dt={components:{Button:N,Modal:X,ModalForm:K,ConfirmDelete:lt,Search:et},data:function(){return{modalEdit:!1,id:null,newsPerPage:10,pageNumber:1,filter:"",modalDelete:!1}},methods:{downloadPosts:function(){this.$store.dispatch("getPosts")},toCreate:function(){this.$router.push("/create")},editingModal:function(t){this.modalEdit=!0,this.id=t},deleteModal:function(t){this.modalDelete=!0,this.id=t},changePage:function(t){this.pageNumber=t},updatePost:function(t){this.filter=t}},computed:{posts:function(){return this.$store.getters.posts},pages:function(){return Math.ceil(this.$store.getters.posts.length/10)},paginatedPosts:function(){var t=(this.pageNumber-1)*this.newsPerPage,e=t+this.newsPerPage;return this.posts.slice(t,e)},postName:function(){var t=this;return this.paginatedPosts.filter((function(e){return!t.filter||e.title.toLowerCase().includes(t.filter.toLowerCase())}))}}};n("5dee");const bt=i()(dt,[["render",I],["__scopeId","data-v-2eb8ea16"]]);var ft=bt,pt={class:"form"},Ot={class:"container"},jt=Object(o["h"])("Создание статьи"),mt=Object(o["h"])("Назад");function ht(t,e,n,c,s,r){var i=Object(o["A"])("Form"),a=Object(o["A"])("Button");return Object(o["s"])(),Object(o["f"])("section",pt,[Object(o["g"])("div",Ot,[Object(o["i"])(i,null,{default:Object(o["G"])((function(){return[jt]})),_:1}),Object(o["i"])(a,{onClick:r.goBack},{default:Object(o["G"])((function(){return[mt]})),_:1},8,["onClick"])])])}var gt={class:"form__h1"},vt={class:"form__button"},_t=Object(o["h"])("Создать");function yt(t,e,n,c,s,r){var i=Object(o["A"])("Button");return Object(o["s"])(),Object(o["f"])("form",{onSubmit:e[2]||(e[2]=Object(o["I"])((function(){return r.createForm&&r.createForm.apply(r,arguments)}),["prevent"])),class:"form"},[Object(o["g"])("h1",gt,[Object(o["z"])(t.$slots,"default",{},void 0,!0)]),Object(o["H"])(Object(o["g"])("input",{"onUpdate:modelValue":e[0]||(e[0]=function(t){return s.title=t}),class:"form__input",type:"text",placeholder:"Название статьи"},null,512),[[o["E"],s.title]]),Object(o["H"])(Object(o["g"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return s.body=t}),class:"form__input",type:"text",placeholder:"Текст статьи"},null,512),[[o["E"],s.body]]),Object(o["g"])("div",vt,[Object(o["i"])(i,{disabled:!r.disable},{default:Object(o["G"])((function(){return[_t]})),_:1},8,["disabled"])])],32)}var kt={components:{Button:N},methods:{createForm:function(){var t={title:this.title,body:this.body,id:Date.now()};this.$store.commit("createPosts",t),this.clear(),alert("Статья успешно создана")},clear:function(){this.title="",this.body=""}},data:function(){return{title:"",body:""}},computed:{disable:function(){return!!this.title&&!!this.body}}};n("e546");const Pt=i()(kt,[["render",yt],["__scopeId","data-v-70e4faac"]]);var Ct=Pt,wt={components:{Form:Ct,Button:N},methods:{goBack:function(){this.$router.back("/")}}};n("a78b");const St=i()(wt,[["render",ht],["__scopeId","data-v-846bdcd4"]]);var $t=St,Bt=function(t){return Object(o["v"])("data-v-57a058d4"),t=t(),Object(o["t"])(),t},It={class:"post"},xt={class:"container"},Gt=Bt((function(){return Object(o["g"])("h1",{class:"post__h1"},"Полный текст",-1)})),At={class:"post__p"},Nt=Object(o["h"])("Назад");function Mt(t,e,n,c,s,r){var i=Object(o["A"])("Button");return Object(o["s"])(),Object(o["f"])("section",It,[Object(o["g"])("div",xt,[Gt,Object(o["g"])("p",At,Object(o["C"])(r.post.body),1),Object(o["i"])(i,{onClick:r.goBack},{default:Object(o["G"])((function(){return[Nt]})),_:1},8,["onClick"])])])}var Et={computed:{post:function(){return this.$store.getters.postsById(this.$route.params.id)}},components:{Button:N},methods:{goBack:function(){this.$router.back("/")}}};n("8582");const Ft=i()(Et,[["render",Mt],["__scopeId","data-v-57a058d4"]]);var Vt,Ut=Ft,Dt=[{path:"/",name:"Home",component:ft},{path:"/create",name:"Create",component:$t},{path:"/post/:id",name:"Post",component:Ut}],Jt=Object(l["a"])({history:Object(l["b"])(),routes:Dt}),Ht=Jt,zt=n("1da1"),Tt=(n("96cf"),n("e9c4"),n("159b"),n("7db0"),n("5502")),Lt=Object(Tt["a"])({state:{posts:null!==(Vt=JSON.parse(localStorage.getItem("posts")))&&void 0!==Vt?Vt:[]},mutations:{addToPosts:function(t,e){t.posts=e,localStorage.setItem("posts",JSON.stringify(t.posts))},createPosts:function(t,e){t.posts.unshift(e),localStorage.setItem("posts",JSON.stringify(t.posts))},deletePosts:function(t,e){t.posts=t.posts.filter((function(t){return t.id!==e})),localStorage.setItem("posts",JSON.stringify(t.posts))},updatePosts:function(t,e){t.posts.forEach((function(t){t.id===e.id&&(t.title=e.title,t.body=e.body)})),localStorage.setItem("posts",JSON.stringify(t.posts))}},actions:{getPosts:function(t){return Object(zt["a"])(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,t.dispatch,e.next=3,fetch("https://jsonplaceholder.typicode.com/posts").then((function(t){return t.json()}));case 3:o=e.sent,n("addToPosts",o);case 5:case"end":return e.stop()}}),e)})))()}},getters:{posts:function(t){return t.posts},postsById:function(t){return function(e){return t.posts.find((function(t){return t.id===+e}))}}}});n("944d");Object(o["c"])(u).use(Lt).use(Ht).mount("#app")},"5dee":function(t,e,n){"use strict";n("684f")},"684f":function(t,e,n){},"75e9":function(t,e,n){"use strict";n("eb1a")},"82a2":function(t,e,n){"use strict";n("d8cc")},8582:function(t,e,n){"use strict";n("4685")},"944d":function(t,e,n){},9898:function(t,e,n){},a039:function(t,e,n){"use strict";n("9898")},a78b:function(t,e,n){"use strict";n("cd8b")},bf37:function(t,e,n){t.exports=n.p+"img/close.bd6f85ec.svg"},cd8b:function(t,e,n){},d6f7:function(t,e,n){},d739:function(t,e,n){t.exports=n.p+"img/delete.c0e42a7c.svg"},d8cc:function(t,e,n){},e546:function(t,e,n){"use strict";n("fa16")},eb1a:function(t,e,n){},fa16:function(t,e,n){}});
//# sourceMappingURL=app.4f362b7d.js.map